<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0051)https://help.ubuntu.com/community/DebootstrapChroot -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="robots" content="index,nofollow">

<title>DebootstrapChroot - Community Help Wiki</title>
<script type="text/javascript" src="./DebootstrapChroot - Community Help Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./DebootstrapChroot - Community Help Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./DebootstrapChroot - Community Help Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./DebootstrapChroot - Community Help Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./DebootstrapChroot - Community Help Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/light/css/msie.css">
<![endif]-->


<link rel="alternate" title="Community Help Wiki: DebootstrapChroot" href="https://help.ubuntu.com/community/DebootstrapChroot?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=DebootstrapChroot&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="https://help.ubuntu.com/community/CommunityHelpWiki">
<link rel="Alternate" title="Wiki Markup" href="https://help.ubuntu.com/community/DebootstrapChroot?action=raw">
<link rel="Alternate" media="print" title="Print View" href="https://help.ubuntu.com/community/DebootstrapChroot?action=print">
<link rel="Search" href="https://help.ubuntu.com/community/FindPage">
<link rel="Index" href="https://help.ubuntu.com/community/TitleIndex">
<link rel="Glossary" href="https://help.ubuntu.com/community/WordIndex">
<link rel="Help" href="https://help.ubuntu.com/community/HelpOnFormatting">
</head>

<body lang="en" dir="ltr">


    <div id="leftbanner">
    </div>
    <div id="rightbanner">
    </div>
    <div id="container">
        <div id="container-inner">
	    <div id="mothership">
		<ul>
	            <li><a href="https://partners.ubuntu.com/">Partners</a> </li>
        	    <li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
        	    <li><a href="https://community.ubuntu.com/">Community</a></li>
        	    <li><a href="https://www.ubuntu.com/">Ubuntu.com</a></li>
	        </ul>
	    </div>
            <div id="header">
                <h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
                <ul id="main-menu">
                    <li><a href="https://help.ubuntu.com/">Official Documentation</a></li>
                    <li><a class="main-menu-item current" href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
                    <li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
                </ul>
            </div>
            <div id="menu-search">
                <div id="subheader"> 
                    <div class="subheader-menu"> 
                        <div id="second-nav">
<ul id="username"><li><a class="nbinfo" href="https://help.ubuntu.com/community/DebootstrapChroot?action=info" rel="nofollow">Page History</a></li><li><a href="https://help.ubuntu.com/community/DebootstrapChroot?action=login&amp;login=1" id="login" rel="nofollow">Login to edit</a></li></ul>
 </div> 
    <div id="user-info"> 
    </div>
 

                            
                        </div> 
                    </div> 


                    <div id="search-box">

<noscript>
 <form action="http://www.google.com/cse" id="cse-search-box">
   <div>
     <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />
     <input type="hidden" name="ie" value="UTF-8" />
     <input type="text" name="q" size="21" />
     <input type="submit" name="sa" value="Search" />
   </div>
 </form>
</noscript>

<script>
 document.write('<form action="https://help.ubuntu.com/search.html" id="cse-search-box">');
 document.write('  <div>');
 document.write('    <input type="hidden" name="cof" value="FORID:9" />');
 document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />');
 document.write('    <input type="hidden" name="ie" value="UTF-8" />');
 document.write('    <input type="text" name="q" size="21" />');
 document.write('    <input type="submit" name="sa" value="Search" />');
 document.write('  </div>');
 document.write('</form>');
</script><form action="https://help.ubuntu.com/search.html" id="cse-search-box">  <div>    <input type="hidden" name="cof" value="FORID:9">    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">    <input type="hidden" name="ie" value="UTF-8">    <input type="text" name="q" size="21">    <input type="submit" name="sa" value="Search">  </div></form>


                    </div>
                </div>
                <div id="title"><h1>
<span id="pagelocation"><a href="https://help.ubuntu.com/community/DebootstrapChroot">DebootstrapChroot</a></span>
</h1>
                </div>
            <div id="cwt-nav3">

 <hr class="clear">
            </div>
                <div id="cwt-content" class="clearfix content-area">

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><div><table style="float:right;  font-size: 0.9em;  width:45%;  background:#F1F1ED;  margin: 0 0 1em 1em;"><tbody><tr>  <td style="padding:0.5em;"><p class="line891"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#Example_Configuration">Example Configuration</a><ol><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#Step_1:_Install_packages_on_the_host_computer.">Step 1: Install packages on the host computer.</a></li><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#Step_2:_Create_a_configuration_file_for_schroot.">Step 2: Create a configuration file for schroot.</a></li><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#Step_3:_Run_debootstrap.">Step 3: Run debootstrap.</a></li><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#Step_4:_Check_the_chroot">Step 4: Check the chroot</a></li></ol></li><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#WARNING">WARNING</a></li><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#Hints">Hints</a></li><li>
<a href="https://help.ubuntu.com/community/DebootstrapChroot#TLDR">TLDR</a></li></ol></div></td>
</tr>
</tbody></table></div><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line862">This article demonstrates a quick and easy way to create a <em>chroot</em> environment on an Ubuntu computer, which is like having a virtual system without the overhead of actual virtualization. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p class="line862">A <em>chroot</em> can be used for things like: <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><ul><li>Running a 32-bit Firefox browser or a 32-bit Wine bottle on a 64-bit system. <span class="anchor" id="line-8"></span></li><li>Trying an older or newer Ubuntu release without reinstalling the operating system. <span class="anchor" id="line-9"></span></li><li><p class="line862">Trying a <a class="http" href="http://www.debian.org/">Debian</a> release or other distribution derived from Debian. <span class="anchor" id="line-10"></span></p></li><li><p class="line862">Cross compiling and building packages for a different platform like <a class="http" href="http://www.launchpad.net/">Launchpad</a> or <a class="https" href="https://launchpad.net/soyuz/">Soyuz</a> does it. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></p></li></ul><p class="line867">
</p><h2 id="Example_Configuration">Example Configuration</h2>
<span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line862">In this example, we use a current Ubuntu 9.04 Jaunty system (the "host") to create a <em>chroot</em> for the older Ubuntu 8.04 Hardy release (the "target").  We are arbitrarily naming the new <em>chroot</em> environment <strong>hardy_i386</strong> and putting it in the /srv/chroot directory on the host system. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span></p><p class="line867">
</p><h3 id="Step_1:_Install_packages_on_the_host_computer.">Step 1: Install packages on the host computer.</h3>
<span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line862">First, install <tt class="backtick">debootstrap</tt>, which is a utility that downloads and unpacks a basic Ubuntu system: <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span></p><p class="line867"><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span></p><pre><span class="anchor" id="line-1"></span> $ sudo apt-get install debootstrap</pre><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line862">Second, install <tt class="backtick">schroot</tt>, which is a utility that wraps the regular <tt class="backtick">chroot</tt> program and automatically manages <em>chroot</em> environments: <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span></p><p class="line867"><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></p><pre><span class="anchor" id="line-1-1"></span> $ sudo apt-get install schroot</pre><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line862">Note: The <tt class="backtick">debootstrap</tt> utility is usually backwards compatible with older releases, but it may be incompatible with newer releases.  For example, the <tt class="backtick">debootstrap</tt> that is bundled with Jaunty can prepare a Hardy <em>chroot</em> like we are doing here, but the <tt class="backtick">debootstrap</tt> that is bundled with Hardy cannot prepare a Jaunty <em>chroot</em>. <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><p class="line862">If you have any difficultly with a <tt class="backtick">debootstrap</tt> version mismatch, then visit <a class="http" href="http://packages.ubuntu.com/">http://packages.ubuntu.com/</a> to manually download and install the <a class="http" href="http://packages.ubuntu.com/search?keywords=debootstrap">debootstrap package</a> on the host system from the repository for the target release. <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></p><p class="line867">
</p><h3 id="Step_2:_Create_a_configuration_file_for_schroot.">Step 2: Create a configuration file for schroot.</h3>
<span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line862">Choose a short name for the <em>chroot</em>, we use <strong>hardy_i386</strong> in this example, and create a configuration file for it like this: <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span></p><p class="line867"><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p><pre><span class="anchor" id="line-1-2"></span>  sudo editor /etc/schroot/chroot.d/hardy_i386.conf</pre><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line874">Note: In lucid the filename must not contain '.' , it should be lucid_i386_conf. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p><p class="line874">Put this in the new file: <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p><p class="line867"><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></p><pre><span class="anchor" id="line-1-3"></span>  [hardy_i386]
<span class="anchor" id="line-2"></span>  description=Ubuntu 8.04 Hardy for i386
<span class="anchor" id="line-3"></span>  location=/srv/chroot/hardy_i386
<span class="anchor" id="line-4"></span>  #personality=linux32
<span class="anchor" id="line-5"></span>  root-users=bob
<span class="anchor" id="line-6"></span>  run-setup-scripts=true
<span class="anchor" id="line-7"></span>  run-exec-scripts=true
<span class="anchor" id="line-8"></span>  type=directory
<span class="anchor" id="line-9"></span>  users=alice,bob,charlie</pre><span class="anchor" id="line-60"></span><p class="line862">Note: if you copy this example to your clipboard, be careful to start each line in column 1 before you save the new file! If you forget, the command <strong>schroot -l</strong> will fail with an error, e.g. <tt class="backtick">E:&nbsp;/etc/schroot/chroot.d/hardy_i386.conf:&nbsp;line&nbsp;0:&nbsp;Invalid&nbsp;line:&nbsp;“&nbsp;&nbsp;[hardy_i386]”</tt>. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span></p><p class="line862">Note: for lucid use <strong>directory</strong> instead of <strong>location</strong>, e.g. <strong>directory=/srv/chroot/hardy_i386</strong> . <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p><p class="line874">Change these things in the example configuration file to fit your system: <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span></p><ul><li style="list-style-type:none"><p class="line891"><strong>location</strong>:  This should be a directory that is outside of the /home tree.  The latest <tt class="backtick">schroot</tt> documentation recommends /srv/chroot. <span class="anchor" id="line-67"></span></p></li><li style="list-style-type:none"><p class="line891"><strong>personality</strong>:  Enable this line if the host system is 64-bit running on an amd64/x64 computer and the chroot is 32-bit for i386.  Otherwise, leave it disabled. <span class="anchor" id="line-68"></span></p></li><li style="list-style-type:none"><p class="line891"><strong>users</strong>: These are users on the host system that can invoke the <tt class="backtick">schroot</tt> program and get access to the <em>chroot</em> system.  Your username on the host system should be here. <span class="anchor" id="line-69"></span></p></li><li style="list-style-type:none"><p class="line891"><strong>root-users</strong>: These are users on the host system that can invoke the <tt class="backtick">schroot</tt> program and get direct access to the chroot system as the root user. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></p></li></ul><p class="line874">Note: Do not put whitespace around the '=' character, and do not quote strings after the '=' character. <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span></p><p class="line867">
</p><h3 id="Step_3:_Run_debootstrap.">Step 3: Run debootstrap.</h3>
<span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><p class="line874">This will download and unpack a basic Ubuntu system to the chroot directory, similar to what the host system already has at the real root directory ("/"). <span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span></p><p class="line867"><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span></p><pre><span class="anchor" id="line-1-4"></span> $ sudo mkdir -p /srv/chroot/hardy_i386
<span class="anchor" id="line-2-1"></span> $ sudo debootstrap --variant=buildd --arch=i386 hardy /srv/chroot/hardy_i386 http://archive.ubuntu.com/ubuntu/</pre><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line862">This command should work for any distribution that is derived from Debian.  Substitute the architecture "i386", the release name "hardy", and the repository address "<a class="http" href="http://archive.ubuntu.com/ubuntu/">http://archive.ubuntu.com/ubuntu/</a>" appropriately.  For example, do this to get the 64-bit build of Hardy instead of the 32-bit build: <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span></p><p class="line867"><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span></p><pre><span class="anchor" id="line-1-5"></span>  $ sudo debootstrap --arch=amd64 hardy /srv/chroot/hardy_amd64/ http://archive.ubuntu.com/ubuntu/</pre><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><p class="line862">Note: Remember to change all instances of <strong>hardy_i386</strong> to <strong>hardy_amd64</strong> in the configuration file and on the command line if you actually do this. <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span></p><p class="line874">Do something like this to get an upstream Debian release: <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span></p><p class="line867"><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span></p><pre><span class="anchor" id="line-1-6"></span>  $ sudo debootstrap --arch=amd64 sid /srv/chroot/sid_amd64/ http://ftp.debian.org/debian/</pre><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><p class="line874">If trouble arises, debootsrap accepts a --verbose flag that may provide further insight. <span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span></p><p class="line867">
</p><h3 id="Step_4:_Check_the_chroot">Step 4: Check the chroot</h3>
<span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><p class="line862">This command lists configured <em>chroot</em>s:tro <span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span></p><p class="line867"><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span></p><pre><span class="anchor" id="line-1-7"></span>  $ schroot -l</pre><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><p class="line862">If <strong>hardy_i386</strong> appears in the list, then run: <span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span></p><p class="line867"><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span></p><pre><span class="anchor" id="line-1-8"></span>  $ schroot -c hardy_i386 -u root</pre><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line862">Note: This should work without using <tt class="backtick">sudo</tt> to invoke the <tt class="backtick">schroot</tt> program, and it should result in a root prompt in the <em>chroot</em> environment. <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span></p><p class="line874">Check that the root prompt is in a different system: <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span></p><p class="line867"><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span></p><pre><span class="anchor" id="line-1-9"></span>  # lsb_release -a</pre><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line862">For the Hardy system that we just built, the <tt class="backtick">lsb_release</tt> command should print: <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span></p><p class="line867"><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span></p><pre><span class="anchor" id="line-1-10"></span>No LSB modules are available.
<span class="anchor" id="line-2-2"></span>Distributor ID: Ubuntu
<span class="anchor" id="line-3-1"></span>Description:    Ubuntu 8.04
<span class="anchor" id="line-4-1"></span>Release:        8.04
<span class="anchor" id="line-5-1"></span>Codename:       hardy</pre><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><p class="line874">We're done! <span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span></p><p class="line867">
</p><h2 id="WARNING">WARNING</h2>
<span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><p class="line862">For convenience, the default <tt class="backtick">schroot</tt> configuration rebinds the /home directory on the host system so that it appears in the <em>chroot</em> system.  This could be unexpected if you are familiar with the older <tt class="backtick">dchroot</tt> program or the regular <tt class="backtick">chroot</tt> program because it means that you can accidentally delete or otherwise damage things in /home on the host system. <span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span></p><p class="line874">To change this behavior run: <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span></p><p class="line867"><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span></p><pre><span class="anchor" id="line-1-11"></span>  $ sudo editor /etc/schroot/mount-defaults</pre><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><p class="line874">And disable the /home line so that the file reads: <span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span></p><p class="line867"><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span></p><pre><span class="anchor" id="line-1-12"></span>  # mount.defaults: static file system information for chroots.
<span class="anchor" id="line-2-3"></span>  # Note that the mount point will be prefixed by the chroot path
<span class="anchor" id="line-3-2"></span>  # (CHROOT_PATH)
<span class="anchor" id="line-4-2"></span>  #
<span class="anchor" id="line-5-2"></span>  # &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
<span class="anchor" id="line-6-1"></span>  proc            /proc           proc    defaults        0       0
<span class="anchor" id="line-7-1"></span>  /dev/pts        /dev/pts        none    rw,bind         0       0
<span class="anchor" id="line-8-1"></span>  tmpfs           /dev/shm        tmpfs   defaults        0       0
<span class="anchor" id="line-9-1"></span>  #/home           /home           none    rw,bind         0       0
<span class="anchor" id="line-10"></span>  /tmp            /tmp            none    rw,bind         0       0</pre><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><p class="line862">The mount.defaults file is the /etc/fstab for <em>chroot</em> environments. <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span></p><p class="line867">
</p><h2 id="Hints">Hints</h2>
<span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><p class="line862">Install the ubuntu-minimal package in a new <em>chroot</em> after you create it: <span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span></p><p class="line867"><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span></p><pre><span class="anchor" id="line-1-13"></span>  $ schroot -c hardy_i386 -u root
<span class="anchor" id="line-2-4"></span>  # apt-get install ubuntu-minimal</pre><p class="line874">  <span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span></p><p class="line862">If you get locale warnings in the <em>chroot</em> like "<strong>Locale not supported by C library.</strong>" or <strong>"perl: warning: Setting locale failed."</strong> , then try one or more of these commands: <span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span></p><p class="line867"><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span></p><pre><span class="anchor" id="line-1-14"></span>  $ sudo dpkg-reconfigure locales</pre><span class="anchor" id="line-176"></span><p class="line867"><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span></p><pre><span class="anchor" id="line-1-15"></span>  $ sudo apt-get install language-pack-en</pre><span class="anchor" id="line-179"></span><p class="line867"><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span></p><pre><span class="anchor" id="line-1-16"></span>  $ locale-gen en_US.UTF-8</pre><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><p class="line874">If your preferred language is not English, then change "-en" and "en_US" appropriately. <span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span></p><p class="line862">As of Lucid, <tt class="backtick">schroot</tt> has changed in these ways: <span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span></p><ul><li><p class="line862">The file should be named: <tt class="backtick">/etc/schroot/chroot.d/hardy-i386</tt> <span class="anchor" id="line-188"></span></p></li><li>The keywords in the file have changed and some have been deprecated. Additionally, keywords have to start at the beginning of the line. The file should read: <span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span></li></ul><p class="line867"><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span></p><pre><span class="anchor" id="line-1-17"></span>  [hardy-i386]
<span class="anchor" id="line-2-5"></span>  description=Ubuntu 8.04 Hardy for i386
<span class="anchor" id="line-3-3"></span>  directory=/srv/chroot/hardy-i386
<span class="anchor" id="line-4-3"></span>  #personality=linux32
<span class="anchor" id="line-5-3"></span>  root-users=bob
<span class="anchor" id="line-6-2"></span>  type=directory
<span class="anchor" id="line-7-2"></span>  users=alice,bob,charlie</pre><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><p class="line862">As of Maverick <tt class="backtick">schroot</tt> has further changed in these ways: <span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span></p><ul><li><p class="line862">The configuration file should be stored in <tt class="backtick">/etc/schroot/</tt> <span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span></p></li></ul><p class="line867">
</p><h2 id="TLDR">TLDR</h2>
<span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><p class="line874">There's a much simplier way to get a basic chroot environment from an ISO image; if the text above seems TLDR, try this. <span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span></p><p class="line874">First of all, install Ubuntu Customization Kit: <span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span></p><p class="line867"><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span></p><pre><span class="anchor" id="line-1-18"></span>  $ sudo apt-get install uck</pre><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><p class="line874">Then set the directory in which you want to create the chroot environment: <span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span></p><p class="line867"><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span></p><pre><span class="anchor" id="line-1-19"></span>  $ export BASEDIR=/path/to/chroot/directory/</pre><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><p class="line874">Unpack the ISO image (this may take quite some time): <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span></p><p class="line867"><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span></p><pre><span class="anchor" id="line-1-20"></span>  $ sudo uck-remaster-unpack-iso /path/to/your/image.iso "$BASEDIR" &amp;&amp; sudo uck-remaster-unpack-rootfs "$BASEDIR" &amp;&amp; sudo uck-remaster-unpack-initrd "$BASEDIR"</pre><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><p class="line874">You're done! Now, to enter the chroot environment, just execute <span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span></p><p class="line867"><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span></p><pre><span class="anchor" id="line-1-21"></span>  $ sudo uck-remaster-chroot-rootfs /path/to/chroot/directory/</pre><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><p class="line874">every time you wish to enter the chroot console. To leave it, type "exit". <span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span></p><p class="line874">To be able to run X applications, e.g. gedit, run <span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span></p><p class="line867"><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span></p><pre><span class="anchor" id="line-1-22"></span>  # HOME=/root</pre><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><p class="line874">in the chroot environment. <span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span></p><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-243"></span><a href="https://help.ubuntu.com/community/CategoryDevelopment">CategoryDevelopment</a> <span class="anchor" id="line-244"></span><span class="anchor" id="bottom"></span></p></div><div id="pagebottom"></div>
</div>


            </div>
<p id="pageinfo" class="info" lang="en" dir="ltr">DebootstrapChroot  (last edited 2012-07-03 18:07:00 by <span title="pargue @ 158.52.254.239[158.52.254.239]"><a class="interwiki" href="https://launchpad.net/~pargue" title="pargue @ 158.52.254.239[158.52.254.239]">pargue</a></span>)</p>

</div>
            
            <div id="footer">
		<p>
		The material on this wiki is available under a free license, see <a href="https://help.ubuntu.com/community/License">Copyright / License</a> for details<br><b>You</b> can contribute to this wiki, see 
		<a href="https://help.ubuntu.com/community/WikiGuide">Wiki Guide</a> for details
		</p>
            </div>

        </div>


</body></html>